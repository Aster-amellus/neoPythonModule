## 1.2 Defining New Functions

现在我们学习函数定义（function definitions），这是一种更强大的抽象技术，通过这种技术，可以将名称绑定到复合操作，然后可以将其作为一个单元进行引用。

首先，我们先来看一个[牛顿迭代法](https://en.citizendium.org/wiki/Newton%27s_method#Convergence_analysis)求平方根的例子。我们可以用下面的python代码去实现。

```
def square(x):
    return x * x

def average(x, y):
    return (x + y) / 2

def improve_guess(guess, x):
    return average(guess, x / guess)

def is_good_enough(guess, x, precision=0.00001):
    return abs(square(guess) - x) < precision

def sqrt_newton(x, initial_guess=1.0, precision=0.00001):
    guess = initial_guess
    while not is_good_enough(guess, x, precision):
        guess = improve_guess(guess, x)
    return guess
```
我们首先定义了一个名为```square```的函数，这是一个用户自定义函数，它接收一个参数```x```，返回```x * x```，这符合我们对平方的定义。在这个定义中，```x``` 被称为形式参数，为要相乘的事物提供了一个名称。该定义创建了这个用户自定义函数，并将其与名称 ```square``` 关联起来。
---
如何定义函数？
函数定义由一个 def 语句组成，该语句指示一个 <name> 和逗号分隔的命名 <formal parameters> 列表，然后是一个 return 语句，称为函数体，指定了函数的 <return expression> ，它是一个表达式，每当函数被应用时都会被求值：
```
def <name>(<formal parameters>):
    return <return expression>
```
第二行必须要缩进（python的语法），大多数程序员使用四个空格进行缩进。返回的表达式不会立即被求值；它作为新定义函数的一部分存储，只有当函数最终被应用时才会被使用。
---

